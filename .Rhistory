SFF8 <- read_excel("S:/Ecology/Student_folders_&_files/Jonathan 2024/sangres_graphs/Data/sff8 establishment data.xlsx")
SFF9 <- read_excel("S:/Ecology/Student_folders_&_files/Jonathan 2024/sangres_graphs/Data/sff9 establishment data.xlsx")
SFF10 <- read_excel("S:/Ecology/Student_folders_&_files/Jonathan 2024/sangres_graphs/Data/sff10 initial 2024 data.xlsx")
names(SFF2)[5] <- paste("DBH")
SFS4$Tree_num = paste0('SFS4-', SFS4$Tree_num)
BTN4$Tree_num = paste0('BTN4-', BTN4$Tree_num)
SFF1$Tree_num = paste0('SFF1-', SFF1$Tree_num)
SFF2$Tree_num = paste0('SFF2-', SFF2$Tree_num)
SFF3$Tree_num = paste0('SFF3-', SFF3$Tree_num)
SFF4$Tree_num = paste0('SFF4-', SFF4$Tree_num)
SFF5$Tree_num = paste0('SFF5-', SFF5$Tree_num)
SFF8$Tree_num = paste0('SFF8-', SFF8$Tree_num)
SFF9$Tree_num = paste0('SFF9-', SFF9$Tree_num)
SFF10$Tree_num = paste0('SFF10-', SFF10$Tree_num)
SFS4$PlotName <- "SFS4"
BTN4$PlotName <- "BTN4"
SFF1$PlotName <- "SFF1"
SFF2$PlotName <- "SFF2"
SFF3$PlotName <- "SFF3"
SFF4$PlotName <- "SFF4"
SFF5$PlotName <- "SFF5"
SFF8$PlotName <- "SFF8"
SFF9$PlotName <- "SFF9"
SFF10$PlotName <- "SFF10"
SFS4$TreatmentStatus <- "Treated"
BTN4$TreatmentStatus <- "Untreated"
SFF1$TreatmentStatus <- "Treated"
SFF2$TreatmentStatus <- "Untreated"
SFF3$TreatmentStatus <- "Untreated"
SFF4$TreatmentStatus <- "Untreated"
SFF5$TreatmentStatus <- "Treated"
SFF8$TreatmentStatus <- "Treated"
SFF9$TreatmentStatus <- "Untreated"
SFF10$TreatmentStatus <- "Treated"
SFS4$PlotSize <- 1
BTN4$PlotSize <- 1
SFF1$PlotSize <- 0.25
SFF2$PlotSize <- 1
SFF3$PlotSize <- 0.25
SFF4$PlotSize <- 0.25
SFF5$PlotSize <- 0.25
SFF8$PlotSize <- 1
SFF9$PlotSize <- 0.25
SFF10$PlotSize <- 0.25
SFS4 <- SFS4 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG, Notes)
BTN4 <- BTN4 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG, Notes)
SFF1 <- SFF1 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG, Notes)
SFF2 <- SFF2 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG, Notes)
SFF3 <- SFF3 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG, Notes)
SFF4 <- SFF4 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG, Notes)
SFF5 <- SFF5 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG,  Notes)
SFF8 <- SFF8 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG, Notes)
SFF9 <- SFF9 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG,  Notes)
SFF10 <- SFF10 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG, Notes)
SFS4$Condition <- as.numeric(SFS4$Condition)
merged_plots <- bind_rows(SFS4, BTN4, SFF1, SFF2, SFF3, SFF4, SFF5, SFF8, SFF9, SFF10)
merged_plots <- merged_plots %>%
mutate(MOG = case_when(OG == "Y" | DBH > 30 ~ "Y"))
merged_summary <- merged_plots %>%
group_by(PlotName, PlotSize, TreatmentStatus) %>%
summarize(Tree_count = n(), meanDBH = mean(DBH, na.rm = TRUE))
merged_MOG <- merged_plots %>%
filter(MOG == "Y")%>%
group_by(PlotName, PlotSize, TreatmentStatus)%>%
summarize(MOG_count = n())
merged_MOG_live <- merged_plots %>%
filter(MOG == "Y" & Condition != 5 & Condition != 2) %>%
group_by(PlotName, PlotSize, TreatmentStatus) %>%
summarize(MOG_live_count = n())
merged_OG <- merged_plots %>%
filter(OG == "Y") %>%
group_by(PlotName, PlotSize, TreatmentStatus) %>%
summarize(OG_count = n())
merged_summary$MOG_count <- merged_MOG$MOG_count
merged_summary$MOG_live_count <- merged_MOG_live$MOG_live_count
merged_summary$OG_count <- merged_OG$OG_count
merged_summary$TPH <- merged_summary$Tree_count/merged_summary$PlotSize
est_data<-merged_summary
treatment_summary <- merged_summary %>%
group_by(TreatmentStatus)%>%
summarize(Tree_count = sum(Tree_count), MOG_count = sum(MOG_count), MOG_live_count = sum(MOG_live_count), Surveyed_ha = sum(PlotSize))
ggplot(est_data, aes(x= reorder(PlotName, PlotSize), y= PlotSize)) +
geom_bar(stat="identity", color = 'black', aes(fill = TreatmentStatus)) +
xlab("Plot") +
ylab("Total area (ha)") +
scale_fill_manual(values=c("#00aedb", "#d11141")) +
theme_classic() +
theme(legend.title = element_blank())
ggplot(est_data, aes(x= reorder(PlotName, Tree_count), y= Tree_count)) +
geom_bar(stat="identity", color = 'black', aes(fill = TreatmentStatus)) +
xlab("Plot") +
ylab("Number of trees") +
scale_fill_manual(values=c("#00aedb", "#d11141")) +
theme_classic() +
theme(legend.title = element_blank())
T_MOG_OG <- melt(Treated_MOG_OG[,c('TreatedPlotName','TreatedOG','TreatedMOG')],id.vars = 1)
TreatedPlotName <- subset(est_data, TreatmentStatus == "Treated")$PlotName
TreatedMOG <- subset(est_data, TreatmentStatus == "Treated")$MOG_count
TreatedOG <- subset(est_data, TreatmentStatus == "Treated")$OG_count
Treated_MOG_OG <- data.frame(TreatedPlotName, TreatedMOG, TreatedOG)
T_MOG_OG <- melt(Treated_MOG_OG[,c('TreatedPlotName','TreatedOG','TreatedMOG')],id.vars = 1)
T_MOG_OG_Plot <- ggplot(T_MOG_OG, aes(x = TreatedPlotName, y = value)) +
geom_bar(aes(fill = variable), stat = "identity", color = 'black', position = "dodge") +
ggtitle("Treated") +
xlab("") +
ylab("Number of trees") +
ylim(0, 200) +
scale_fill_manual(values=c("#4d7358", "#9ed670")) +
theme_classic() +
scale_color_continuous(guide = guide_legend(override.aes = list(alpha = 0) ) ) +
scale_linetype(guide = guide_legend(override.aes = list(alpha = 0) ) )+
theme(legend.title = element_text(color = "transparent"),
legend.text = element_text(color = "transparent"),
legend.key = element_rect(fill = "transparent"))
UntreatedPlotName <- subset(est_data, TreatmentStatus == "Untreated")$PlotName
UntreatedMOG <- subset(est_data, TreatmentStatus == "Untreated")$MOG_count
UntreatedOG <- subset(est_data, TreatmentStatus == "Untreated")$OG_count
Untreated_MOG_OG <- data.frame(UntreatedPlotName, UntreatedMOG, UntreatedOG)
UnT_MOG_OG <- melt(Untreated_MOG_OG[,c('UntreatedPlotName','UntreatedOG','UntreatedMOG')],id.vars = 1)
UnT_MOG_OG_Plot <- ggplot(UnT_MOG_OG, aes(x = UntreatedPlotName, y = value)) +
geom_bar(aes(fill = variable), stat = "identity", color = 'black', position = "dodge") +
ggtitle("Untreated") +
xlab("") +
ylab("Number of trees") +
ylim(0, 200) +
scale_fill_manual(values=c("#4d7358", "#9ed670"), labels = c('Old Growth', 'Mature Old Growth')) +
theme_classic() +
theme(legend.title = element_blank())
grid.arrange(T_MOG_OG_Plot, UnT_MOG_OG_Plot, ncol=1)
merged_plots$Condition <- as.factor(merged_plots$Condition)
ggplot(merged_plots, aes(x=DBH)) + geom_histogram()
ggplot(merged_plots, aes(x=DBH, fill = Condition, color = Condition)) +
geom_histogram(binwidth=2)+
xlab("DBH (cm)")+
facet_wrap(~TreatmentStatus)
ggplot(merged_plots, aes(x=DBH)) + geom_histogram()
ggplot(merged_plots, aes(x=DBH, fill = Species, color = Species)) +
geom_histogram(binwidth=2)+
xlab("DBH (cm)")+
facet_wrap(~PlotName)
library(ggplot2)
library(reshape2)
library(readxl)
library(dplyr)
library(gridExtra)
SFS4 <- read_excel("S:/Ecology/Student_folders_&_files/Jonathan 2024/sangres_graphs/Data/sfs4 bible 2024.xlsx")
BTN4 <- read_excel("S:/Ecology/Student_folders_&_files/Jonathan 2024/sangres_graphs/Data/btn4 revisit data 2024.xlsx")
SFF1 <- read_excel("S:/Ecology/Student_folders_&_files/Jonathan 2024/sangres_graphs/Data/sff1 establishment data.xlsx")
SFF2 <- read_excel("S:/Ecology/Student_folders_&_files/Jonathan 2024/sangres_graphs/Data/sff2 establishment 2024 data.xlsx")
SFF3 <- read_excel("S:/Ecology/Student_folders_&_files/Jonathan 2024/sangres_graphs/Data/sff3 establishment data.xlsx")
SFF4 <- read_excel("S:/Ecology/Student_folders_&_files/Jonathan 2024/sangres_graphs/Data/sff4 establishment data.xlsx")
SFF5 <- read_excel("S:/Ecology/Student_folders_&_files/Jonathan 2024/sangres_graphs/Data/sff5 establishment data 2024.xlsx")
SFF8 <- read_excel("S:/Ecology/Student_folders_&_files/Jonathan 2024/sangres_graphs/Data/sff8 establishment data.xlsx")
SFF9 <- read_excel("S:/Ecology/Student_folders_&_files/Jonathan 2024/sangres_graphs/Data/sff9 establishment data.xlsx")
SFF10 <- read_excel("S:/Ecology/Student_folders_&_files/Jonathan 2024/sangres_graphs/Data/sff10 initial 2024 data.xlsx")
names(SFF2)[5] <- paste("DBH")
SFS4$Tree_num = paste0('SFS4-', SFS4$Tree_num)
BTN4$Tree_num = paste0('BTN4-', BTN4$Tree_num)
SFF1$Tree_num = paste0('SFF1-', SFF1$Tree_num)
SFF2$Tree_num = paste0('SFF2-', SFF2$Tree_num)
SFF3$Tree_num = paste0('SFF3-', SFF3$Tree_num)
SFF4$Tree_num = paste0('SFF4-', SFF4$Tree_num)
SFF5$Tree_num = paste0('SFF5-', SFF5$Tree_num)
SFF8$Tree_num = paste0('SFF8-', SFF8$Tree_num)
SFF9$Tree_num = paste0('SFF9-', SFF9$Tree_num)
SFF10$Tree_num = paste0('SFF10-', SFF10$Tree_num)
BTN4dbh$Tree_num <- BTN4dbh$TreeID
SFS4$PlotName <- "SFS4"
BTN4$PlotName <- "BTN4"
SFF1$PlotName <- "SFF1"
SFF2$PlotName <- "SFF2"
SFF3$PlotName <- "SFF3"
SFF4$PlotName <- "SFF4"
SFF5$PlotName <- "SFF5"
SFF8$PlotName <- "SFF8"
SFF9$PlotName <- "SFF9"
SFF10$PlotName <- "SFF10"
SFS4$TreatmentStatus <- "Treated"
BTN4$TreatmentStatus <- "Untreated"
SFF1$TreatmentStatus <- "Treated"
SFF2$TreatmentStatus <- "Untreated"
SFF3$TreatmentStatus <- "Untreated"
SFF4$TreatmentStatus <- "Untreated"
SFF5$TreatmentStatus <- "Treated"
SFF8$TreatmentStatus <- "Treated"
SFF9$TreatmentStatus <- "Untreated"
SFF10$TreatmentStatus <- "Treated"
SFS4$PlotSize <- 1
BTN4$PlotSize <- 1
SFF1$PlotSize <- 0.25
SFF2$PlotSize <- 1
SFF3$PlotSize <- 0.25
SFF4$PlotSize <- 0.25
SFF5$PlotSize <- 0.25
SFF8$PlotSize <- 1
SFF9$PlotSize <- 0.25
SFF10$PlotSize <- 0.25
SFS4 <- SFS4 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG, Notes)
BTN4 <- BTN4 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG, Notes)
SFF1 <- SFF1 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG, Notes)
SFF2 <- SFF2 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG, Notes)
SFF3 <- SFF3 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG, Notes)
SFF4 <- SFF4 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG, Notes)
SFF5 <- SFF5 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG,  Notes)
SFF8 <- SFF8 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG, Notes)
SFF9 <- SFF9 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG,  Notes)
SFF10 <- SFF10 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG, Notes)
SFS4$Condition <- as.numeric(SFS4$Condition)
merged_plots <- bind_rows(SFS4, BTN4, SFF1, SFF2, SFF3, SFF4, SFF5, SFF8, SFF9, SFF10)
merged_plots <- merged_plots %>%
mutate(MOG = case_when(OG == "Y" | DBH > 30 ~ "Y"))
merged_summary <- merged_plots %>%
group_by(PlotName, PlotSize, TreatmentStatus) %>%
summarize(Tree_count = n(), meanDBH = mean(DBH, na.rm = TRUE))
merged_MOG <- merged_plots %>%
filter(MOG == "Y")%>%
group_by(PlotName, PlotSize, TreatmentStatus)%>%
summarize(MOG_count = n())
merged_MOG_live <- merged_plots %>%
filter(MOG == "Y" & Condition != 5 & Condition != 2) %>%
group_by(PlotName, PlotSize, TreatmentStatus) %>%
summarize(MOG_live_count = n())
merged_OG <- merged_plots %>%
filter(OG == "Y") %>%
group_by(PlotName, PlotSize, TreatmentStatus) %>%
summarize(OG_count = n())
merged_summary$MOG_count <- merged_MOG$MOG_count
merged_summary$MOG_live_count <- merged_MOG_live$MOG_live_count
merged_summary$OG_count <- merged_OG$OG_count
merged_summary$TPH <- merged_summary$Tree_count/merged_summary$PlotSize
est_data<-merged_summary
treatment_summary <- merged_summary %>%
group_by(TreatmentStatus)%>%
summarize(Tree_count = sum(Tree_count), MOG_count = sum(MOG_count), MOG_live_count = sum(MOG_live_count), Surveyed_ha = sum(PlotSize))
ggplot(merged_plots, aes(x=DBH, fill = Species)) +
scale_fill_manual(values=c("#4EDFC7","#C21E56", "#FFC0CB","#95658B", "#FFD700", "#2E8B57", "#89CFF0","#9F2B68","grey", "#5D3FD3", "#CC5500", "#E3963E", "#AFE1AF", "grey","grey","grey"))+
#scale_color_manual(values = c("grey40","grey40","grey40","grey40" ,"grey40","grey40","grey40","grey40","grey40","grey40"))+
geom_histogram(binwidth=4)+
xlab("DBH (cm)")+
facet_wrap(~TreatmentStatus + PlotName + PlotSize, ncol = 5 )+
theme_minimal()+
theme(strip.text = element_text(size =8))
SFS4 <- read_excel("S:/Ecology/Student_folders_&_files/Jonathan 2024/sangres_graphs/Data/sfs4 bible 2024.xlsx")
BTN4 <- read_excel("S:/Ecology/Student_folders_&_files/Jonathan 2024/sangres_graphs/Data/btn4 revisit data 2024.xlsx")
SFF1 <- read_excel("S:/Ecology/Student_folders_&_files/Jonathan 2024/sangres_graphs/Data/sff1 establishment data.xlsx")
SFF2 <- read_excel("S:/Ecology/Student_folders_&_files/Jonathan 2024/sangres_graphs/Data/sff2 establishment 2024 data.xlsx")
SFF3 <- read_excel("S:/Ecology/Student_folders_&_files/Jonathan 2024/sangres_graphs/Data/sff3 establishment data.xlsx")
SFF4 <- read_excel("S:/Ecology/Student_folders_&_files/Jonathan 2024/sangres_graphs/Data/sff4 establishment data.xlsx")
SFF5 <- read_excel("S:/Ecology/Student_folders_&_files/Jonathan 2024/sangres_graphs/Data/sff5 establishment data 2024.xlsx")
SFF8 <- read_excel("S:/Ecology/Student_folders_&_files/Jonathan 2024/sangres_graphs/Data/sff8 establishment data.xlsx")
SFF9 <- read_excel("S:/Ecology/Student_folders_&_files/Jonathan 2024/sangres_graphs/Data/sff9 establishment data.xlsx")
SFF10 <- read_excel("S:/Ecology/Student_folders_&_files/Jonathan 2024/sangres_graphs/Data/sff10 initial 2024 data.xlsx")
names(SFF2)[5] <- paste("DBH")
SFS4$Tree_num = paste0('SFS4-', SFS4$Tree_num)
BTN4$Tree_num = paste0('BTN4-', BTN4$Tree_num)
SFF1$Tree_num = paste0('SFF1-', SFF1$Tree_num)
SFF2$Tree_num = paste0('SFF2-', SFF2$Tree_num)
SFF3$Tree_num = paste0('SFF3-', SFF3$Tree_num)
SFF4$Tree_num = paste0('SFF4-', SFF4$Tree_num)
SFF5$Tree_num = paste0('SFF5-', SFF5$Tree_num)
SFF8$Tree_num = paste0('SFF8-', SFF8$Tree_num)
SFF9$Tree_num = paste0('SFF9-', SFF9$Tree_num)
SFF10$Tree_num = paste0('SFF10-', SFF10$Tree_num)
BTN4dbh$Tree_num <- BTN4dbh$TreeID
SFS4$PlotName <- "SFS4"
BTN4$PlotName <- "BTN4"
SFF1$PlotName <- "SFF1"
SFF2$PlotName <- "SFF2"
SFF3$PlotName <- "SFF3"
SFF4$PlotName <- "SFF4"
SFF5$PlotName <- "SFF5"
SFF8$PlotName <- "SFF8"
SFF9$PlotName <- "SFF9"
SFF10$PlotName <- "SFF10"
BTN4dbh$Tree_num <- BTN4dbh$TreeID
SFS4$PlotName <- "SFS4"
BTN4$PlotName <- "BTN4"
SFF1$PlotName <- "SFF1"
SFF2$PlotName <- "SFF2"
SFF3$PlotName <- "SFF3"
SFF4$PlotName <- "SFF4"
SFF5$PlotName <- "SFF5"
SFF8$PlotName <- "SFF8"
SFF9$PlotName <- "SFF9"
SFF10$PlotName <- "SFF10"
SFS4$TreatmentStatus <- "Treated"
BTN4$TreatmentStatus <- "Untreated"
SFF1$TreatmentStatus <- "Treated"
SFF2$TreatmentStatus <- "Untreated"
SFF3$TreatmentStatus <- "Untreated"
SFF4$TreatmentStatus <- "Untreated"
SFF5$TreatmentStatus <- "Treated"
SFF8$TreatmentStatus <- "Treated"
SFF9$TreatmentStatus <- "Untreated"
SFF10$TreatmentStatus <- "Treated"
SFS4$PlotSize <- 1
BTN4$PlotSize <- 1
SFF1$PlotSize <- 0.25
SFF2$PlotSize <- 1
SFF3$PlotSize <- 0.25
SFF4$PlotSize <- 0.25
SFF5$PlotSize <- 0.25
SFF8$PlotSize <- 1
SFF9$PlotSize <- 0.25
SFF10$PlotSize <- 0.25
SFS4 <- SFS4 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG, Notes)
BTN4 <- BTN4 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG, Notes)
SFF1 <- SFF1 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG, Notes)
SFF2 <- SFF2 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG, Notes)
SFF3 <- SFF3 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG, Notes)
SFF4 <- SFF4 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG, Notes)
SFF5 <- SFF5 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG,  Notes)
SFF8 <- SFF8 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG, Notes)
SFF9 <- SFF9 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG,  Notes)
SFF10 <- SFF10 %>%
select(PlotName, PlotSize, TreatmentStatus, Tree_num, Species, Condition, DBH, OG, Notes)
SFS4$Condition <- as.numeric(SFS4$Condition)
merged_plots <- bind_rows(SFS4, BTN4, SFF1, SFF2, SFF3, SFF4, SFF5, SFF8, SFF9, SFF10)
merged_plots <- merged_plots %>%
mutate(MOG = case_when(OG == "Y" | DBH > 30 ~ "Y"))
merged_summary <- merged_plots %>%
group_by(PlotName, PlotSize, TreatmentStatus) %>%
summarize(Tree_count = n(), meanDBH = mean(DBH, na.rm = TRUE))
merged_MOG <- merged_plots %>%
filter(MOG == "Y")%>%
group_by(PlotName, PlotSize, TreatmentStatus)%>%
summarize(MOG_count = n())
merged_MOG_live <- merged_plots %>%
filter(MOG == "Y" & Condition != 5 & Condition != 2) %>%
group_by(PlotName, PlotSize, TreatmentStatus) %>%
summarize(MOG_live_count = n())
merged_OG <- merged_plots %>%
filter(OG == "Y") %>%
group_by(PlotName, PlotSize, TreatmentStatus) %>%
summarize(OG_count = n())
merged_summary$MOG_count <- merged_MOG$MOG_count
merged_summary$MOG_live_count <- merged_MOG_live$MOG_live_count
merged_summary$OG_count <- merged_OG$OG_count
merged_summary$TPH <- merged_summary$Tree_count/merged_summary$PlotSize
est_data<-merged_summary
treatment_summary <- merged_summary %>%
group_by(TreatmentStatus)%>%
summarize(Tree_count = sum(Tree_count), MOG_count = sum(MOG_count), MOG_live_count = sum(MOG_live_count), Surveyed_ha = sum(PlotSize))
ggplot(merged_plots, aes(x=PlotName, fill = Species, color = Species)) +
scale_fill_manual(values=c("#4EDFC7","#C21E56", "#FFC0CB","#95658B", "#FFD700", "#2E8B57", "#89CFF0","#9F2B68","grey", "#5D3FD3", "#CC5500", "#E3963E", "#AFE1AF", "grey","grey","grey"))+
scale_color_manual(values = c("grey40","grey40","grey40","grey40", "grey40","grey40","grey40","grey40", "grey40","grey40","grey40","grey40", "grey40","grey40","grey40" ))+
geom_histogram(binwidth=2)+
xlab("DBH (cm)")+
facet_wrap(~TreatmentStatus)+
theme_minimal()+
theme(strip.text = element_text(size =15))
ggplot(merged_plots, aes(x=PlotName, fill = Species, color = Species)) +
scale_fill_manual(values=c("#4EDFC7","#C21E56", "#FFC0CB","#95658B", "#FFD700", "#2E8B57", "#89CFF0","#9F2B68","grey", "#5D3FD3", "#CC5500", "#E3963E", "#AFE1AF", "grey","grey","grey"))+
scale_color_manual(values = c("grey40","grey40","grey40","grey40", "grey40","grey40","grey40","grey40", "grey40","grey40","grey40","grey40", "grey40","grey40","grey40" ))+
geom_bar(stat="identity")+
xlab("DBH (cm)")+
facet_wrap(~TreatmentStatus)+
theme_minimal()+
theme(strip.text = element_text(size =15))
rlang::last_trace()
View(merged_plots)
sp <- count(merged_plots$Species)
new_merged_plots <- merged_plots
new_merged_plots$Species <- as.factor(new_merged_plots)
new_merged_plots$Species <- as.factor(new_merged_plots$Species)
sp <- count(merged_plots$Species)
sp <- count(new_merged_plots$Species)
ggplot(merged_plots, aes(x=PlotName, fill = Species, color = Species)) +
scale_fill_manual(values=c("#4EDFC7","#C21E56", "#FFC0CB","#95658B", "#FFD700", "#2E8B57", "#89CFF0","#9F2B68","grey", "#5D3FD3", "#CC5500", "#E3963E", "#AFE1AF", "grey","grey","grey"))+
scale_color_manual(values = c("grey40","grey40","grey40","grey40", "grey40","grey40","grey40","grey40", "grey40","grey40","grey40","grey40", "grey40","grey40","grey40" ))+
geom_bar(stat = "identity" )+
xlab("DBH (cm)")+
facet_wrap(~TreatmentStatus)+
theme_minimal()+
theme(strip.text = element_text(size =15))
ggplot(merged_plots, aes(x=PlotName, y = species, fill = Species, color = Species)) +
scale_fill_manual(values=c("#4EDFC7","#C21E56", "#FFC0CB","#95658B", "#FFD700", "#2E8B57", "#89CFF0","#9F2B68","grey", "#5D3FD3", "#CC5500", "#E3963E", "#AFE1AF", "grey","grey","grey"))+
scale_color_manual(values = c("grey40","grey40","grey40","grey40", "grey40","grey40","grey40","grey40", "grey40","grey40","grey40","grey40", "grey40","grey40","grey40" ))+
geom_bar(stat = "identity" )+
xlab("DBH (cm)")+
facet_wrap(~TreatmentStatus)+
theme_minimal()+
theme(strip.text = element_text(size =15))
ggplot(merged_plots, aes(x=PlotName, y = Species, fill = Species, color = Species)) +
scale_fill_manual(values=c("#4EDFC7","#C21E56", "#FFC0CB","#95658B", "#FFD700", "#2E8B57", "#89CFF0","#9F2B68","grey", "#5D3FD3", "#CC5500", "#E3963E", "#AFE1AF", "grey","grey","grey"))+
scale_color_manual(values = c("grey40","grey40","grey40","grey40", "grey40","grey40","grey40","grey40", "grey40","grey40","grey40","grey40", "grey40","grey40","grey40" ))+
geom_bar(stat = "identity" )+
xlab("DBH (cm)")+
facet_wrap(~TreatmentStatus)+
theme_minimal()+
theme(strip.text = element_text(size =15))
ggplot(merged_plots, aes(x=PlotName, y = Species, fill = Species, color = Species)) +
scale_fill_manual(values=c("#4EDFC7","#C21E56", "#FFC0CB","#95658B", "#FFD700", "#2E8B57", "#89CFF0","#9F2B68","grey", "#5D3FD3", "#CC5500", "#E3963E", "#AFE1AF", "grey","grey","grey"))+
scale_color_manual(values = c("grey40","grey40","grey40","grey40", "grey40","grey40","grey40","grey40", "grey40","grey40","grey40","grey40", "grey40","grey40","grey40" ))+
geom_bar(stat = "identity" )+
xlab("DBH (cm)")+
facet_wrap(~PlotName)+
theme_minimal()+
theme(strip.text = element_text(size =15))
count(new_merged_plots$Species == "PIPO")
length(which(new_merged_plots == "PIPO"))
length(which(new_merged_plots == "PIPO")$PlotName)
length(which(new_merged_plots == "PIPO")[]PlotName)
length(which(new_merged_plots == "PIPO")[PlotName])
length(which(new_merged_plots == "PIPO")[new_merged_plots$PlotName])
PIPO <- sum(subset(new_merged_plots, Species == 'PIPO')$PlotName)
PIPO <- sum(subset(new_merged_plots, Species == 'PIPO')[PlotName])
PIPO <- sum(subset([new_merged_plots, Species == 'PIPO')PlotName])
ggplot(merged_plots, aes(x=Species, y = length(which(new_merged_plots$Species)), fill = Species, color = Species)) +
scale_fill_manual(values=c("#4EDFC7","#C21E56", "#FFC0CB","#95658B", "#FFD700", "#2E8B57", "#89CFF0","#9F2B68","grey", "#5D3FD3", "#CC5500", "#E3963E", "#AFE1AF", "grey","grey","grey"))+
scale_color_manual(values = c("grey40","grey40","grey40","grey40", "grey40","grey40","grey40","grey40", "grey40","grey40","grey40","grey40", "grey40","grey40","grey40" ))+
geom_bar(stat = "identity" )+
xlab("DBH (cm)")+
facet_wrap(~PlotName)+
theme_minimal()+
theme(strip.text = element_text(size =15))
length(which(new_merged_plots$Species))
length(which(new_merged_plots$Species == "PIPO"))
ggplot(merged_plots, aes(x=DBH, fill = Cond, color = Cond)) +
scale_fill_manual(values=c("#e8bb61", "#c7505c", "#8ccfa8", "#56B4E9"))+
scale_color_manual(values = c("grey40","grey40","grey40","grey40"))+
geom_histogram(binwidth=2)+
xlab("DBH (cm)")+
facet_wrap(~TreatmentStatus)+
theme_minimal()+
theme(strip.text = element_text(size =15))
merged_plots$Condition <- as.factor(merged_plots$Cond)
merged_plots$Condition <- as.factor(merged_plots$Condition)
merged_plots <- merged_plots %>%
mutate(Cond = case_when(Condition == 1 ~ "Live",
Condition == 2 | Condition == 5 | Condition == 6 ~ "Dead",
Condition == 3 | Condition == 4 | Condition == 7 ~ "DALB",
Condition == 8 | Condition == 9 | Condition == 10 | Condition == 11 ~"Missing"))
merged_plots$Condition <- as.factor(merged_plots$Cond)
ggplot(merged_plots, aes(x=DBH, fill = Cond, color = Cond)) +
scale_fill_manual(values=c("#e8bb61", "#c7505c", "#8ccfa8", "#56B4E9"))+
scale_color_manual(values = c("grey40","grey40","grey40","grey40"))+
geom_histogram(binwidth=2)+
xlab("DBH (cm)")+
facet_wrap(~TreatmentStatus)+
theme_minimal()+
theme(strip.text = element_text(size =15))
merged_plots_long <- pivot_longer(merged_plots, cols = c(PlotName, Species))
length(which(new_merged_plots$Species == "PIPO"))
length(which(new_merged_plots$Species == "PIST"))
length(which(new_merged_plots$Species == "ABCO"))
length(which(new_merged_plots$Species == "PSME"))
length(which(new_merged_plots$Species == "QUGA"))
length(which(new_merged_plots$Species == "QUUN"))
length(which(new_merged_plots$Species == "JUMO"))
length(which(new_merged_plots$Species == "JUSC"))
length(which(new_merged_plots$Species == "PIED"))
length(which(new_merged_plots$Species == "PRVI"))
length(which(new_merged_plots$Species == "ACGL"))
length(which(new_merged_plots$Species == "POTR"))
PIPO <- length(which(new_merged_plots$Species == "PIPO"))
PIST <- length(which(new_merged_plots$Species == "PIST"))
num_tree_by_sp <- data.frame(PIPO, PIST)
View(num_tree_by_sp)
PIPO <- length(which(new_merged_plots$Species == "PIPO"))
PIST <- length(which(new_merged_plots$Species == "PIST"))
ABCO <- length(which(new_merged_plots$Species == "ABCO"))
PSME <- length(which(new_merged_plots$Species == "PSME"))
QUGA <- length(which(new_merged_plots$Species == "QUGA"))
QUUN <- length(which(new_merged_plots$Species == "QUUN"))
JUMO <- length(which(new_merged_plots$Species == "JUMO"))
JUSC <- length(which(new_merged_plots$Species == "JUSC"))
PIED <- length(which(new_merged_plots$Species == "PIED"))
PRVI <- length(which(new_merged_plots$Species == "PRVI"))
ACGL <- length(which(new_merged_plots$Species == "ACGL"))
POTR <- length(which(new_merged_plots$Species == "POTR"))
num_tree_by_sp <- data.frame(PIPO, PIST, ABCO, PSME, QUGA, QUUN, JUMO, JUSC, PIED, PRVI, ACGL, POTR)
ggplot(merged_plots, aes(x=Species, y = num_tree_by_sp, fill = Species, color = Species)) +
scale_fill_manual(values=c("#4EDFC7","#C21E56", "#FFC0CB","#95658B", "#FFD700", "#2E8B57", "#89CFF0","#9F2B68","grey", "#5D3FD3", "#CC5500", "#E3963E", "#AFE1AF", "grey","grey","grey"))+
scale_color_manual(values = c("grey40","grey40","grey40","grey40", "grey40","grey40","grey40","grey40", "grey40","grey40","grey40","grey40", "grey40","grey40","grey40" ))+
geom_bar(stat = "identity" )+
xlab("DBH (cm)")+
facet_wrap(~PlotName)+
theme_minimal()+
theme(strip.text = element_text(size =15))
species <- c("PIPO","PIST","ABCO","PSME","QUGA","QUUN","JUMO","JUSC","PIED","PRVI","ACGL","POTR")
num_tree_by_sp <- data.frame(species, PIPO, PIST, ABCO, PSME, QUGA, QUUN, JUMO, JUSC, PIED, PRVI, ACGL, POTR)
View(num_tree_by_sp)
